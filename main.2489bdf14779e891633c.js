(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.p,e.p;var t={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},n={templateSelector:"#template-element",cardSelector:".element",buttonLikeSelector:".element__like-button",buttonDeleteSelector:".element__delete-button",imageSelector:".element__image",titleSelector:".element__title",likeClass:"element__like-button_active",likeCounter:".element__like-counter"},r=document.querySelector(".elements-list"),o=document.querySelector(".profile__add-button"),i=document.querySelector(".popup-add-card"),a=i.querySelector(".popup__form_add-card"),c=(document.querySelector(".popup__input_type_title"),document.querySelector(".popup__input_type_link"),document.querySelector(".profile__edit-button")),u=document.querySelector(".popup-edit-profile"),l=u.querySelector(".popup__form_edit-profile"),s=document.querySelector(".profile__name"),f=document.querySelector(".profile__description"),p=document.querySelector(".popup__input_type_name"),d=document.querySelector(".popup__input_type_description"),h=document.querySelector(".popup_image"),_=document.querySelector(".profile__avatar"),y=document.querySelector(".profile__avatar-button"),v=document.querySelector(".popup-edit-avatar"),m=v.querySelector(".popup__form_edit-avatar"),b=document.querySelector(".popup-delete-card");function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}b.querySelector(".popup__form-delete");var S=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._form=n,this._inputList=Array.from(this._form.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._form.querySelector(this._config.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showError",value:function(e){var t=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),t.classList.add(this._config.errorClass),t.textContent=e.validationMessage}},{key:"_hideError",value:function(e){var t=this._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"_isValid",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"disabledButton",value:function(){this._buttonElement.setAttribute("disabled","true"),this._buttonElement.classList.add(this._config.inactiveButtonClass)}},{key:"enableButton",value:function(){this._buttonElement.removeAttribute("disabled","true"),this._buttonElement.classList.remove(this._config.inactiveButtonClass)}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?this.disabledButton():this.enableButton()}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(t){return e._hideError(t)})),this.toggleButtonState()}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._onClickImageHandler=o.onClick,this._onLikeHandler=o.onLike,this._onDeleteHandler=o.onDelete,this._data=n,this._isDelete=r,this._cardElement=this._getTemplate(),this._cardElement.querySelector(this._config.titleSelector).textContent=this._data.name,this._image=this._cardElement.querySelector(this._config.imageSelector),this._image.src=this._data.link,this._image.alt=this._data.name;var i=this._config.likeClass;this.isLiked()?this._cardElement.querySelector(this._config.buttonLikeSelector).classList.add(i):this._cardElement.querySelector(this._config.buttonLikeSelector).classList.remove(i),this._cardElement.querySelector(this._config.likeCounter).textContent=this._data.likes.length,this._deleteBtn=this._cardElement.querySelector(this._config.buttonDeleteSelector),this._isOwnerCard(),this._setEventListeners()}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._config.templateSelector).content.querySelector(this._config.cardSelector).cloneNode(!0)}},{key:"getCardElement",value:function(){return this._cardElement}},{key:"_isOwnerCard",value:function(){this._isDelete||this._deleteBtn.remove()}},{key:"isLiked",value:function(){var e=this;return this._data.likes.some((function(t){return t._id===e._data.currentUser._id}))}},{key:"_handleLikeCard",value:function(){var e=this;this._onLikeHandler(this._data,(function(t){e._data.likes=t;var n=e._config.likeClass;e.isLiked()?e._cardElement.querySelector(e._config.buttonLikeSelector).classList.add(n):e._cardElement.querySelector(e._config.buttonLikeSelector).classList.remove(n),e._cardElement.querySelector(e._config.likeCounter).textContent=e._data.likes.length}))}},{key:"_handleDeleteCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_setEventListeners",value:function(){var e=this;this._cardElement.querySelector(this._config.buttonLikeSelector).addEventListener("click",(function(){e._handleLikeCard()})),this._deleteBtn.addEventListener("click",(function(){e._onDeleteHandler(e._data,(function(){e._handleDeleteCard()}))})),this._cardElement.querySelector(this._config.imageSelector).addEventListener("click",(function(){e._onClickImageHandler()}))}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(e,t){var n=this;e.forEach((function(e){var r=e.owner._id===t;n._renderer(e,r)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target===t.currentTarget||t.target.classList.contains("popup__close-button"))&&e.close()}))}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=R(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},q.apply(this,arguments)}function R(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function A(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return A(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._description=t._popup.querySelector(".popup__picture-title"),t._image=t._popup.querySelector(".popup__picture"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._image.src=n,this._image.alt=t,this._description.textContent=t,q(I(a.prototype),"open",this).call(this)}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(C);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=F(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},V.apply(this,arguments)}function F(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function H(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(r);if(o){var n=N(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return H(this,e)});function a(e,t){var n,r=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormSubmit=r,n._popupForm=n._popup.querySelector(".popup__form"),n._inputList=n._popupForm.querySelectorAll(".popup__input"),n._saveButton=n._popupForm.querySelector(".popup__save-button"),n._saveButtonText=n._saveButton.textContent,n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;V(N(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){V(N(a.prototype),"close",this).call(this),this._popupForm.reset()}},{key:"loading",value:function(e){this._saveButton.textContent=e?"Сохранение...":this._saveButtonText}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(C);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(){return z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=G(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},z.apply(this,arguments)}function G(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function Q(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=W(r);if(o){var n=W(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Q(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupSelector=e,t._popupForm=t._popupSelector.querySelector(".popup__form-delete"),t._confirmAction=function(){},t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;z(W(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._confirmAction()}))}},{key:"setConfirmAction",value:function(e){this._confirmAction=e}}])&&M(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(C);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._config=n,this._username=document.querySelector(this._config.userNameSelector),this._about=document.querySelector(this._config.userAboutSelector),this._avatar=document.querySelector(this._config.userAvatarSelector)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._data}},{key:"setUserInfo",value:function(e){this._data=e,this._username.textContent=e.name,this._about.textContent=e.about}},{key:"setAvatar",value:function(e){this._data.avatar=e.avatar,this._avatar.src=e.avatar}}])&&Y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne,re=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_parseResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка Api _parseResponse: ".concat(e.status))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then((function(t){return e._parseResponse(t)}))}},{key:"editUserInfo",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return t._parseResponse(e)}))}},{key:"editAvatar",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then((function(e){return t._parseResponse(e)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then((function(t){return e._parseResponse(t)}))}},{key:"addCard",value:function(e){var t=this;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t._parseResponse(e)}))}},{key:"setLike",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return t._parseResponse(e)}))}},{key:"deleteLike",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._parseResponse(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._parseResponse(e)}))}}])&&ee(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({url:"https://mesto.nomoreparties.co/v1/cohort-48",headers:{"content-type":"application/json",authorization:"b7525861-de9d-4d18-aacb-1e45dd5552b0"}});Promise.all([re.getInitialCards(),re.getUserInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];de.setUserInfo(i),ne=i._id,de.setAvatar(i),se.renderItems(o.slice().reverse(),ne)})).catch((function(e){console.error(e),console.log("//////Ошибка Promise.all//////",e)}));var oe=new S(t,l);oe.enableValidation();var ie=new S(t,a);ie.enableValidation();var ae=new B(h);ae.setEventListeners();var ce=new S(t,m);ce.enableValidation();var ue=new X(b);function le(e,t){e.currentUser=de.getUserInfo();var r=new w(n,e,t,{onClick:function(){ae.open(e)},onLike:function(e,t){r.isLiked()?re.deleteLike(e._id).then((function(e){return t(e.likes)})).catch((function(e){console.log("//////Ошибка onLike deleteLike//////",e)})):re.setLike(e._id).then((function(e){return t(e.likes)})).catch((function(e){console.log("//////Ошибка onLike setLike//////",e)}))},onDelete:function(e,t){ue.open(),ue.setConfirmAction((function(){re.deleteCard(e._id).then((function(){ue.close(),t()})).catch((function(e){console.log("//////Ошибка onDelete deleteCard//////",e)}))}))}});return r.getCardElement()}ue.setEventListeners();var se=new O({renderer:function(e,t){se.addItem(le(e,t))}},r),fe=new $(i,{handleFormSubmit:function(e){fe.loading(!0),re.addCard(e).then((function(e){se.addItem(le(e,!0)),fe.close(),ie.resetValidation()})).catch((function(e){console.log("//////Ошибка////// форма добавления карточки//////",e)})).finally((function(){fe.loading(!1)}))}});fe.setEventListeners(),o.addEventListener("click",(function(){fe.open(),ie.resetValidation()}));var pe=new $(v,{handleFormSubmit:function(e){pe.loading(!0),re.editAvatar(e).then((function(e){de.setAvatar(e),pe.close(),ce.resetValidation()})).catch((function(e){console.log("//////Ошибка////// редактирования аватара//////",e)})).finally((function(){pe.loading(!1)}))}});pe.setEventListeners(),y.addEventListener("click",(function(){pe.open(),ce.resetValidation()}));var de=new Z({username:s,about:f,avatar:_},{userNameSelector:".profile__name",userAboutSelector:".profile__description",userAvatarSelector:".profile__avatar"}),he=new $(u,{handleFormSubmit:function(e){he.loading(!0),re.editUserInfo(e).then((function(e){de.setUserInfo(e),he.close()})).catch((function(e){console.log("////////Ошибка//////// редактирования профиля//////////",e)})).finally((function(){he.loading(!1)}))}});he.setEventListeners(),c.addEventListener("click",(function(){var e,t,n;t=(e=de.getUserInfo()).name,n=e.about,p.value=t,d.value=n,he.open(),oe.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UGdDLEdBQWlCTixTQUFRLEVBQzFCLEdBQ0osSUFJTE0sR0FBaUJ4QixvQkFFakJ6SyxFQUFrQjBDLGlCQUFpQixTQUFTLFdBQzFDLElBaENGLEVBQ0VrQixFQUNBbUUsRUFEQW5FLEdBREYsRUFnQ2U4RixHQUFTSCxlQS9CdEIzRixLQUNBbUUsRUFDQyxFQUREQSxNQUVBMUgsRUFBVXdHLE1BQVFqRCxFQUNsQnRELEVBQWlCdUcsTUFBUWtCLEVBNkJ6QmtFLEdBQWlCbkIsT0FDakJULEdBQXlCd0IsaUJBQzFCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiZXhwb3J0IGNvbnN0IGNvbmZpZ0Zvcm0gPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3NhdmUtYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zYXZlLWJ1dHRvbl9kaXNhYmxlZCcsXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJ1xufTtcblxuXG5leHBvcnQgY29uc3QgY29uZmlnQ2FyZCA9IHtcbiAgdGVtcGxhdGVTZWxlY3RvcjogJyN0ZW1wbGF0ZS1lbGVtZW50JyxcbiAgY2FyZFNlbGVjdG9yOiAnLmVsZW1lbnQnLFxuICBidXR0b25MaWtlU2VsZWN0b3I6ICcuZWxlbWVudF9fbGlrZS1idXR0b24nLFxuICBidXR0b25EZWxldGVTZWxlY3RvcjogJy5lbGVtZW50X19kZWxldGUtYnV0dG9uJyxcbiAgaW1hZ2VTZWxlY3RvcjogJy5lbGVtZW50X19pbWFnZScsXG4gIHRpdGxlU2VsZWN0b3I6ICcuZWxlbWVudF9fdGl0bGUnLFxuICBsaWtlQ2xhc3M6ICdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnLFxuICBsaWtlQ291bnRlcjogJy5lbGVtZW50X19saWtlLWNvdW50ZXInXG59O1xuXG5leHBvcnQgY29uc3QgY29uZmlnVXNlciA9IHtcbiAgdXNlck5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19uYW1lJyxcbiAgdXNlckFib3V0U2VsZWN0b3I6ICcucHJvZmlsZV9fZGVzY3JpcHRpb24nLFxuICB1c2VyQXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9fYXZhdGFyJ1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbmZpZ0FwaSA9IHtcbiAgdXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDhcIixcbiAgaGVhZGVyczoge1xuICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIFwiYXV0aG9yaXphdGlvblwiOiBcImI3NTI1ODYxLWRlOWQtNGQxOC1hYWNiLTFlNDVkZDU1NTJiMFwiLFxuICB9XG59O1xuXG4vLyBleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW3tcbi8vICAgbmFtZTogXCLQodCo0JAsINCT0YDQsNC90LQt0JrQsNC90YzQvtC9XCIsXG4vLyAgIGxpbms6IFwiaHR0cHM6Ly9zdW45LXdlc3QudXNlcmFwaS5jb20vc3VuOS00Ni9zL3YxL2lmMi9Ba3J0Y0N4MXBxWGFjdGNSNUthWTEyTnJ6ck1SRjRHT2UwWnlQUGZGYjliNlhveWREcE5CTVB5ZDdsS04tUnVJTFIySmJlc1Ricm1PNFF3WWpDU3lPUXJSLmpwZz9zaXplPTI1NjB4MTkyMCZxdWFsaXR5PTk1JnR5cGU9YWxidW1cIlxuLy8gfSxcbi8vIHtcbi8vICAgbmFtZTogXCLQqNGA0Lgt0JvQsNC90LrQsFwiLFxuLy8gICBsaW5rOiBcImh0dHBzOi8vc3VuOS13ZXN0LnVzZXJhcGkuY29tL3N1bjktNTQvcy92MS9pZjIvenJUMFJZUTBmUkJYSXE5b01GZEdsXzZCRFcwUEJrWThTTVFqMVh5b3RkMTZLSDE1cTE3cEJzaVZBVDhhYVJIT3ZpUTZ2TjJ4by13UVdfT0lmSEVuOHpkVC5qcGc/c2l6ZT0xMjgweDk2MCZxdWFsaXR5PTk1JnR5cGU9YWxidW1cIlxuLy8gfSxcbi8vIHtcbi8vICAgbmFtZTogXCLQk9GA0YPQt9C40Y9cIixcbi8vICAgbGluazogXCJodHRwczovL3N1bjktd2VzdC51c2VyYXBpLmNvbS9zdW45LTE1L3MvdjEvaWYyL1hPem5COUtMNkNsTGd5NWtiaFJyaElaWGlfNTloTGQ5eTBfdUdZN2NrSndNdy1Fb2NjRG01RFI1Q1RRWnVRUkR6b0VnOVRhaFZQcEVnU05Ybm9KbDdra0QuanBnP3NpemU9MTI4MHg5NjAmcXVhbGl0eT05NSZ0eXBlPWFsYnVtXCJcbi8vIH0sXG4vLyB7XG4vLyAgIG5hbWU6IFwi0JPQtdC70LXQvdC00LbQuNC6XCIsXG4vLyAgIGxpbms6IFwiaHR0cHM6Ly9zdW45LXdlc3QudXNlcmFwaS5jb20vc3VuOS00OS9zL3YxL2lmMi9DWkJIR19UOU5VS0xjY3NqNy1VYkZvQ3lMd2VIc2hBQ1dHbzFiaGEwMEJlZzhZNzA3c3FkZlhYel9oc0tac1JiMGotaGFVeWlOSy1VeVZyT2daSVoydElQLmpwZz9zaXplPTE2MjB4MjE2MCZxdWFsaXR5PTk1JnR5cGU9YWxidW1cIlxuLy8gfSxcbi8vIHtcbi8vICAgbmFtZTogXCLQpNC40L3Qu9GP0L3QtNC40Y9cIixcbi8vICAgbGluazogXCJodHRwczovL3N1bjktd2VzdC51c2VyYXBpLmNvbS9zdW45LTM5L3MvdjEvaWYyLzk4UGYzbS1wTG15a0g5dVlfTzFUdVY0SVdKLTNzMklJaFBRaVk0MnRRb3RCaXlDUnJDWjhBTDM1YmxWSFRzVWZNa2lMbVE0OFkyY0dfQmZmMU9PaDlFSWguanBnP3NpemU9MjU2MHgxNDQwJnF1YWxpdHk9OTUmdHlwZT1hbGJ1bVwiXG4vLyB9LFxuLy8ge1xuLy8gICBuYW1lOiBcItCa0YDRi9C8XCIsXG4vLyAgIGxpbms6IFwiaHR0cHM6Ly9zdW45LWVhc3QudXNlcmFwaS5jb20vc3VuOS0zNS9zL3YxL2lmMi9IdUNDTG4zYTZ2SXFWMDM1THlNRDBCN1hYWEMwRDA5MXNGLUZvVVlrNzhSLVNQdVRfem1lWWxvMVJYaUozR1JPQUxQOTJaN1dFdFU4YkFMaW9KOVN3QV9XLmpwZz9zaXplPTk1OXgxMjgwJnF1YWxpdHk9OTUmdHlwZT1hbGJ1bVwiXG4vLyB9XG4vLyBdO1xuXG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzLWxpc3RcIik7XG5leHBvcnQgY29uc3QgYnV0dG9uQWRkQ2FyZEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IHBvcHVwQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1hZGQtY2FyZCcpO1xuZXhwb3J0IGNvbnN0IGZvcm1BZGRDYXJkID0gcG9wdXBBZGRDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9hZGQtY2FyZCcpO1xuZXhwb3J0IGNvbnN0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfdGl0bGUnKTtcbmV4cG9ydCBjb25zdCBsaW5rSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfbGluaycpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5leHBvcnQgY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1lZGl0LXByb2ZpbGUnKTtcbmV4cG9ydCBjb25zdCBmb3JtRWRpdFByb2ZpbGUgPSBwb3B1cEVkaXRQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9lZGl0LXByb2ZpbGUnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19uYW1lJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJyk7XG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX25hbWUnKTtcbmV4cG9ydCBjb25zdCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX2Rlc2NyaXB0aW9uJyk7XG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9pbWFnZScpO1xuZXhwb3J0IGNvbnN0IGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcbmV4cG9ydCBjb25zdCBidXR0b25BdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1lZGl0LWF2YXRhcicpO1xuZXhwb3J0IGNvbnN0IGZvcm1FZGl0QXZhdGFyID0gcG9wdXBFZGl0QXZhdGFyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9lZGl0LWF2YXRhcicpO1xuZXhwb3J0IGNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1kZWxldGUtY2FyZCcpO1xuZXhwb3J0IGNvbnN0IGZvcm1EZWxldGVDYXJkID0gcG9wdXBEZWxldGVDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybS1kZWxldGUnKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICAvLyDQpNGD0L3QutGG0LjRjywg0LrQvtGC0L7RgNCw0Y8g0LTQvtCx0LDQstC70Y/QtdGCINC60LvQsNGB0YEg0YEg0L7RiNC40LHQutC+0LlcbiAgX3Nob3dFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTsgLy8g0J3QsNGF0L7QtNC40Lwg0Y3Qu9C10LzQtdC90YIg0L7RiNC40LHQutC4XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTsgLy8g0KHQvtC+0LHRidC10L3QuNC1INGBINC+0YjQuNCx0LrQvtC5INC90LAg0L/QtdGA0LXQtNCw0L3QvdGL0Lkg0L/QsNGA0LDQvNC10YLRgFxuICB9O1xuXG4gIC8vINCk0YPQvdC60YbQuNGPLCDQutC+0YLQvtGA0LDRjyDRg9C00LDQu9GP0LXRgiDQutC70LDRgdGBINGBINC+0YjQuNCx0LrQvtC5XG4gIF9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnOyAvLyDQntGH0LjRgdGC0LjQvCDQvtGI0LjQsdC60YNcbiAgfTtcblxuICAvLyDQpNGD0L3QutGG0LjRjywg0LrQvtGC0L7RgNCw0Y8g0L/RgNC+0LLQtdGA0Y/QtdGCINCy0LDQu9C40LTQvdC+0YHRgtGMINC/0L7Qu9GPXG4gIF9pc1ZhbGlkKGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICAvLyDQldGB0LvQuCDQv9C+0LvQtSDQvdC1INC/0YDQvtGF0L7QtNC40YIg0LLQsNC70LjQtNCw0YbQuNGOLCDQv9C+0LrQsNC20LXQvCDQvtGI0LjQsdC60YNcbiAgICAgIHRoaXMuX3Nob3dFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDQldGB0LvQuCDQv9GA0L7RhdC+0LTQuNGCLCDRgdC60YDQvtC10LxcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuXG4gIC8vINCk0YPQvdC60YbQuNGPIGhhc0ludmFsaWRJbnB1dCDQvtCx0YXQvtC00LjRgiDQvNCw0YHRgdC40LIg0L/QvtC70LXQuSDQuCDQvtGC0LLQtdGH0LDQtdGCINC90LAg0LLQvtC/0YDQvtGBOiDCq9CV0YHRgtGMINC70Lgg0LfQtNC10YHRjCDRhdC+0YLRjyDQsdGLINC+0LTQvdC+INC/0L7Qu9C1LCDQutC+0YLQvtGA0L7QtSDQvdC1INC/0YDQvtGI0LvQviDQstCw0LvQuNC00LDRhtC40Y4/wrsuXG4gIC8vINCk0YPQvdC60YbQuNGPINC/0YDQuNC90LjQvNCw0LXRgiDQvNCw0YHRgdC40LIg0L/QvtC70LXQuVxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIC8vINC/0YDQvtGF0L7QtNC40Lwg0L/QviDRjdGC0L7QvNGDINC80LDRgdGB0LjQstGDINC80LXRgtC+0LTQvtC8IHNvbWVcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgLy8g0JXRgdC70Lgg0L/QvtC70LUg0L3QtSDQstCw0LvQuNC00L3Qviwg0LrQvtC70LHRjdC6INCy0LXRgNC90ZHRgiB0cnVlXG4gICAgICAvLyDQntCx0YXQvtC0INC80LDRgdGB0LjQstCwINC/0YDQtdC60YDQsNGC0LjRgtGB0Y8g0Lgg0LLRgdGPINGE0YPQvdC60YbQuNGPXG4gICAgICAvLyBoYXNJbnZhbGlkSW5wdXQg0LLQtdGA0L3RkdGCIHRydWVcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIGRpc2FibGVkQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfVxuXG4gIGVuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cblxuXG4gIC8vINCk0YPQvdC60YbQuNGPINC/0YDQuNC90LjQvNCw0LXRgiDQvNCw0YHRgdC40LIg0L/QvtC70LXQuSDQstCy0L7QtNCwXG4gIC8vINC4INGN0LvQtdC80LXQvdGCINC60L3QvtC/0LrQuCwg0YHQvtGB0YLQvtGP0L3QuNC1INC60L7RgtC+0YDQvtC5INC90YPQttC90L4g0LzQtdC90Y/RgtGMXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIC8vINCV0YHQu9C4INC10YHRgtGMINGF0L7RgtGPINCx0Ysg0L7QtNC40L0g0L3QtdCy0LDQu9C40LTQvdGL0Lkg0LjQvdC/0YPRglxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgLy8g0YHQtNC10LvQsNC5INC60L3QvtC/0LrRgyDQvdC10LDQutGC0LjQstC90L7QuVxuICAgICAgdGhpcy5kaXNhYmxlZEJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDQuNC90LDRh9C1INGB0LTQtdC70LDQuSDQutC90L7Qv9C60YMg0LDQutGC0LjQstC90L7QuVxuICAgICAgdGhpcy5lbmFibGVCdXR0b24oKTtcbiAgICB9XG4gIH07XG5cbiAgLy8g0JLRi9C30L7QstC10Lwg0YTRg9C90LrRhtC40Y4gaXNWYWxpZCDQvdCwINC60LDQttC00YvQuSDQstCy0L7QtCDRgdC40LzQstC+0LvQsFxuICAvL2Zvcm1JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGlzVmFsaWQpO1xuICAvL9Cy0LfQsNC80LXQvSDQtdC5INC90LDQv9C40YjQtdC8INGB0LvRg9GI0LDRgtC10LvRjCDQvdCwINC60LDQttC00L7QtSDQv9C+0LvQtSDQstCy0L7QtNCwXG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vINCS0YvQt9C+0LLQuNGC0LUg0YTRg9C90LrRhtC40Y4gdG9nZ2xlQnV0dG9uU3RhdGUg0L/QvtGB0LvQtSDQvtC/0YDQtdC00LXQu9C10L3QuNGPINC60L7QvdGB0YLQsNC90YLRiyBidXR0b25FbGVtZW50LiDQrdGC0L4g0L/RgNC+0LLQtdGA0LjRgiDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4INC/0YDQuCDQv9C10YDQstC+0Lkg0LfQsNCz0YDRg9C30LrQtSDRgdGC0YDQsNC90LjRhtGLLiDQotC+0LPQtNCwINC60L3QvtC/0LrQsCDQv9C10YDQtdGB0YLQsNC90LXRgiDQsdGL0YLRjCDQsNC60YLQuNCy0L3QvtC5INC00L4g0LLQstC+0LTQsCDQtNCw0L3QvdGL0YUg0LIg0L7QtNC90L4g0LjQtyDQv9C+0LvQtdC5LlxuICAgIC8vIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIC8vINCe0LHQvtC50LTRkdC8INCy0YHQtSDRjdC70LXQvNC10L3RgtGLINC/0L7Qu9GD0YfQtdC90L3QvtC5INC60L7Qu9C70LXQutGG0LjQuFxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIC8vINC60LDQttC00L7QvNGDINC/0L7Qu9GOINC00L7QsdCw0LLQuNC8INC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPIGlucHV0XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2lzVmFsaWQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgLy8g0JLRi9C30L7QstC40YLQtSDRhNGD0L3QutGG0LjRjiB0b2dnbGVCdXR0b25TdGF0ZSDQsiDRgtC10LvQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutCwINGB0L7QsdGL0YLQuNGPIGlucHV0LiDQn9C10YDQtdC00LDQudGC0LUg0LXQuSDQvNCw0YHRgdC40LIg0L/QvtC70LXQuSDRhNC+0YDQvNGLINC4INGN0LvQtdC80LXQvdGCINC60L3QvtC/0LrQuC4g0KLQsNC60L7QuSDQstGL0LfQvtCyINC/0YDQvtCy0LXRgNC40YIg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuCDQv9GA0Lgg0LrQsNC20LTQvtC8INC40LfQvNC10L3QtdC90LjQuCDRgdC40LzQstC+0LvQsCDQsiDQu9GO0LHQvtC8INC40Lcg0L/QvtC70LXQuS5cbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9O1xuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dEVsZW1lbnQgPT4gdGhpcy5faGlkZUVycm9yKGlucHV0RWxlbWVudCkpO1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfVxuXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZGF0YSwgaXNEZWxldGUsIGhhbmRsZXIpIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fb25DbGlja0ltYWdlSGFuZGxlciA9IGhhbmRsZXIub25DbGljaztcbiAgICB0aGlzLl9vbkxpa2VIYW5kbGVyID0gaGFuZGxlci5vbkxpa2U7XG4gICAgdGhpcy5fb25EZWxldGVIYW5kbGVyID0gaGFuZGxlci5vbkRlbGV0ZTtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9pc0RlbGV0ZSA9IGlzRGVsZXRlO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnLy8vLy9pc0RlbGV0ZS8vLy8nLCBpc0RlbGV0ZSk7XG5cblxuICAgIC8vPT09PT09PT09PT09PT09XG5cbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcudGl0bGVTZWxlY3RvcikudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLm5hbWU7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5pbWFnZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSB0aGlzLl9kYXRhLmxpbms7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gdGhpcy5fZGF0YS5uYW1lO1xuICAgIGNvbnN0IGNsYXNzTmFtZUxpa2VkID0gdGhpcy5fY29uZmlnLmxpa2VDbGFzcztcbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLmJ1dHRvbkxpa2VTZWxlY3RvcikuY2xhc3NMaXN0LmFkZChjbGFzc05hbWVMaWtlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLmJ1dHRvbkxpa2VTZWxlY3RvcikuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWVMaWtlZCk7XG4gICAgfTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5saWtlQ291bnRlcikudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLmxpa2VzLmxlbmd0aDtcblxuICAgIHRoaXMuX2RlbGV0ZUJ0biA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLmJ1dHRvbkRlbGV0ZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9pc093bmVyQ2FyZCgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcudGVtcGxhdGVTZWxlY3RvcilcbiAgICAgIC5jb250ZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuY2FyZFNlbGVjdG9yKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIGdldENhcmRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxuXG4gIC8vIC8v0LzQtdGC0L7QtCBpc093bmVyINGPINC40LvQuCDQvdC1INGPXG4gIC8vINC/0YDQvtCy0LXRgNC40YLRjCDQstC70LDQtNC10LvRjNGG0LAg0LrQsNGA0YLQvtGH0LrQuCDQuCDRg9Cx0LjRgNCw0YLRjCDQutC90L7Qv9C60YMgRGVsZXRlXG4gIF9pc093bmVyQ2FyZCgpIHtcbiAgICBpZiAoIXRoaXMuX2lzRGVsZXRlKSB7XG4gICAgICB0aGlzLl9kZWxldGVCdG4ucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgLy/QvNC10YLQvtC0IGlzTGlrZWQg0L/RgNC+0LLQtdGA0Y/QtdGCINC90LDQu9C40YfQuNC1INC70LDQudC60LBcbiAgaXNMaWtlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5saWtlcy5zb21lKChpdGVtKSA9PiB7XG4gICAgICByZXR1cm4gaXRlbS5faWQgPT09IHRoaXMuX2RhdGEuY3VycmVudFVzZXIuX2lkXG4gICAgfSlcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0YHQu9GD0YjQsNGC0LXQu9GPINC70LDQudC60LBcbiAgX2hhbmRsZUxpa2VDYXJkKCkge1xuICAgIC8vINCy0YvQt9C+0LIg0LrQvtC70LHQtdC60LAsINC60L7RgtC+0YDRi9C5INC/0YDQuNGI0ZHQuyDRgdC90LDRgNGD0LbQuFxuICAgIHRoaXMuX29uTGlrZUhhbmRsZXIoXG4gICAgICB0aGlzLl9kYXRhLFxuICAgICAgLy8g0LrQvtC70LHQtdC6INCy0L3Rg9GC0YDQuCDQutC+0LvQsdC10LrQsCwg0Y3RgtC+0YIg0LrQvtC0INCy0YvQt9C+0LLQtdGC0YHRjyDQsiBpbmRleC5qc1xuICAgICAgKHVwZGF0ZWRMaWtlcykgPT4ge1xuICAgICAgICB0aGlzLl9kYXRhLmxpa2VzID0gdXBkYXRlZExpa2VzO1xuICAgICAgICBjb25zdCBjbGFzc05hbWVMaWtlZCA9IHRoaXMuX2NvbmZpZy5saWtlQ2xhc3M7XG4gICAgICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLmJ1dHRvbkxpa2VTZWxlY3RvcikuY2xhc3NMaXN0LmFkZChjbGFzc05hbWVMaWtlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuYnV0dG9uTGlrZVNlbGVjdG9yKS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZUxpa2VkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5saWtlQ291bnRlcikudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLmxpa2VzLmxlbmd0aDtcbiAgICAgIH0pO1xuICB9XG5cblxuICAvLyDQvNC10YLQvtC0INGB0LvRg9GI0LDRgtC10LvRjyDQutC90L7Qv9C60Lgg0YPQtNCw0LvQuNGC0YxcbiAgX2hhbmRsZURlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG5cblxuXG4gIC8vY9C70YPRiNCw0YLQtdC70LhcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vINC60L3QvtC/0LrQuCBsaWtlXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuYnV0dG9uTGlrZVNlbGVjdG9yKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDYXJkKCk7XG4gICAgfSk7XG5cbiAgICAvLyDQutC90L7Qv9C60LggZGVsZXRlXG4gICAgdGhpcy5fZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5fb25EZWxldGVIYW5kbGVyKHRoaXMuX2RhdGEsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyDQv9C+0L/QsNC/0Ysg0YEg0L/QvtC70L3QvtGA0LDQt9C80LXRgNC90YvQvNC4INGE0L7RgtC+0LPRgNCw0YTQuNGP0LzQuFxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLmltYWdlU2VsZWN0b3IpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5fb25DbGlja0ltYWdlSGFuZGxlcigpXG4gICAgfSk7XG4gIH1cblxuXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgLyppdGVtcywqLyByZW5kZXJlciB9LCBjb250YWluZXIpIHtcbiAgICAvLyB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gIH1cblxuICByZW5kZXJJdGVtcyhkYXRhLCBwcm9maWxlSWQpIHtcbiAgICAvLyB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSlcbiAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7IFxuICAgICAgLy8gY29uc29sZS5sb2coJy8vLy8vLy8vL3Byb2ZpbGVJZC8vLy8vLy8vLycsIHByb2ZpbGVJZCk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnJiYmJml0ZW0mJiYmJywgaXRlbSk7XG4gICAgICBjb25zdCBpc0RlbGV0ZSA9IGl0ZW0ub3duZXIuX2lkID09PSBwcm9maWxlSWQ7XG4gICAgICAvLyBjb25zb2xlLmxvZygnLy8vLy8vaXNEZWxldGUvLy8vLy8nLCBpc0RlbGV0ZSk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnLy8vLy9pdGVtLm93bmVyLl9pZC8vLy8vJywgaXRlbS5vd25lci5faWQpO1xuICAgICAgLy8gY29uc29sZS5sb2coJy8vL2l0ZW0vLy8nLCBpdGVtKTtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0sIGlzRGVsZXRlKX0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBwb3B1cDtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcylcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0IHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UtYnV0dG9uJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXApIHtcbiAgICBzdXBlcihwb3B1cCk7XG4gICAgdGhpcy5fZGVzY3JpcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3BpY3R1cmUtdGl0bGUnKTtcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGljdHVyZScpO1xuICB9XG5cbiAgb3Blbigge25hbWUsIGxpbmt9ICkge1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHtcbiAgICBoYW5kbGVGb3JtU3VibWl0XG4gIH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcbiAgICB0aGlzLl9zYXZlQnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZS1idXR0b24nKTtcbiAgICB0aGlzLl9zYXZlQnV0dG9uVGV4dCA9IHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQ7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG5cbiAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG5cbiAgbG9hZGluZyhpc0xvYWRpbmcpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJ1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc2F2ZUJ1dHRvblRleHQ7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtLWRlbGV0ZScpO1xuICAgIHRoaXMuX2NvbmZpcm1BY3Rpb24gPSAoKSA9PiB7fVxuICB9XG5cblxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fY29uZmlybUFjdGlvbigpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0Q29uZmlybUFjdGlvbihhY3Rpb24pIHtcbiAgICB0aGlzLl9jb25maXJtQWN0aW9uID0gYWN0aW9uO1xuICB9XG5cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG5jb25zdHJ1Y3RvcihkYXRhLCBjb25maWcpIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fdXNlcm5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy51c2VyTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnVzZXJBYm91dFNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy51c2VyQXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gIH1cblxuICBzZXRVc2VySW5mbyh1c2VyZGF0YSkge1xuICAgIHRoaXMuX2RhdGEgPSB1c2VyZGF0YTtcbiAgICB0aGlzLl91c2VybmFtZS50ZXh0Q29udGVudCA9IHVzZXJkYXRhLm5hbWU7XG4gICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSB1c2VyZGF0YS5hYm91dDtcbiAgfVxuXG4gIHNldEF2YXRhcih1c2VyZGF0YSl7XG4gICAgdGhpcy5fZGF0YS5hdmF0YXIgPSB1c2VyZGF0YS5hdmF0YXI7XG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IHVzZXJkYXRhLmF2YXRhcjtcbiAgfVxufSIsImltcG9ydCAnLi9pbmRleC5jc3MnXG5cbmltcG9ydCBNZXN0b2xvZ28gZnJvbSAnLi4vaW1hZ2VzL01lc3RvX19sb2dvLnN2ZydcblxuaW1wb3J0IEF2YXRhciBmcm9tICcuLi9pbWFnZXMvUGhvdG8tY29udGVudC9BdmF0YXIuanBnJ1xuXG5pbXBvcnQge1xuICBjb25maWdGb3JtLFxuICBjb25maWdDYXJkLFxuICBjb25maWdBcGksXG4gIGNvbmZpZ1VzZXIsXG4gIGluaXRpYWxDYXJkcyxcbiAgY2FyZHNDb250YWluZXIsXG4gIGJ1dHRvbkFkZENhcmRJdGVtLFxuICBwb3B1cEFkZENhcmQsXG4gIGZvcm1BZGRDYXJkLFxuICB0aXRsZUlucHV0LFxuICBsaW5rSW5wdXQsXG4gIGJ1dHRvbkVkaXRQcm9maWxlLFxuICBwb3B1cEVkaXRQcm9maWxlLFxuICBmb3JtRWRpdFByb2ZpbGUsXG4gIHByb2ZpbGVOYW1lLFxuICBwcm9maWxlRGVzY3JpcHRpb24sXG4gIG5hbWVJbnB1dCxcbiAgZGVzY3JpcHRpb25JbnB1dCxcbiAgcG9wdXBJbWFnZSxcbiAgYXZhdGFyLFxuICBidXR0b25BdmF0YXIsXG4gIHBvcHVwRWRpdEF2YXRhcixcbiAgZm9ybUVkaXRBdmF0YXIsXG4gIHBvcHVwRGVsZXRlQ2FyZCxcbiAgZm9ybURlbGV0ZUNhcmRcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuXG5cbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5cbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5cbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5cbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcblxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcblxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyc7XG5cbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcblxuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5cbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG5jb25zdCBhcGkgPSBuZXcgQXBpKGNvbmZpZ0FwaSk7XG5cblxubGV0IHVzZXJJZDtcblxuLy8g0JfQsNCz0YDRg9C30LrQsCDQs9C+0YLQvtCy0YvRhSDQutCw0YDRgtC+0YfQtdC6INC4INC00LDQvdC90YvRhSDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0YEg0YHQtdGA0LLQtdGA0LBcblByb21pc2UuYWxsKFthcGkuZ2V0SW5pdGlhbENhcmRzKCksIGFwaS5nZXRVc2VySW5mbygpXSlcbiAgLnRoZW4oKFtpbml0aWFsQ2FyZHMsIHVzZXJEYXRhXSkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKCcvLy8vLy9pbml0aWFsQ2FyZHMvLy8vLy8vLycsIGluaXRpYWxDYXJkcyk7XG4gICAgLy8gY29uc29sZS5sb2coJy8vLy8vL3VzZXJEYXRhLy8vLy8vLy8nLCB1c2VyRGF0YSk7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcbiAgICAvLyBjb25zb2xlLmxvZygnLy8vLy8vdXNlcklkLy8vLy8nLCB1c2VySWQpO1xuICAgIHVzZXJJbmZvLnNldEF2YXRhcih1c2VyRGF0YSk7XG4gICAgY2FyZHNMaXN0LnJlbmRlckl0ZW1zKGluaXRpYWxDYXJkcy5zbGljZSgpLnJldmVyc2UoKSwgdXNlcklkKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgY29uc29sZS5sb2coJy8vLy8vL9Ce0YjQuNCx0LrQsCBQcm9taXNlLmFsbC8vLy8vLycsIGVycik7XG4gIH0pO1xuXG5cbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNvbnN0IGZvcm1FZGl0UHJvZmlsZVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ0Zvcm0sIGZvcm1FZGl0UHJvZmlsZSk7XG5mb3JtRWRpdFByb2ZpbGVWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY29uc3QgZm9ybUFkZENhcmRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWdGb3JtLCBmb3JtQWRkQ2FyZCk7XG5mb3JtQWRkQ2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCB2aWV3SW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cEltYWdlKTtcbnZpZXdJbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5jb25zdCBmb3JtRWRpdEF2YXRhclZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ0Zvcm0sIGZvcm1FZGl0QXZhdGFyKTtcbmZvcm1FZGl0QXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyDQn9C+0L/QsNC/INGBINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC10Lwg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5jb25zdCBkZWxldGVDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKHBvcHVwRGVsZXRlQ2FyZCk7XG5kZWxldGVDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG5cblxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy/RgdC+0LfQtNCw0L3QuNC1INC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhLCBpc0RlbGV0ZSkge1xuICBkYXRhLmN1cnJlbnRVc2VyID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGNvbmZpZ0NhcmQsIGRhdGEsIGlzRGVsZXRlLCB7XG5cbiAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICB2aWV3SW1hZ2VQb3B1cC5vcGVuKGRhdGEpXG4gICAgfSxcblxuXG4gICAgb25MaWtlOiAoY3VycmVudENhcmREYXRhLCBsaWtlQ2FsbGJhY2spID0+IHtcbiAgICAgIGlmIChjYXJkLmlzTGlrZWQoKSkge1xuICAgICAgICBhcGkuZGVsZXRlTGlrZShjdXJyZW50Q2FyZERhdGEuX2lkKVxuICAgICAgICAgIC8vINC60LDQuiDRgNCw0Lcg0LLRi9C30L7QsiDRgtC+0Lkg0YTRg9C90LrRhtC40Lgg0LjQtyDQutC70LDRgdGB0LAsINC60L7RgtC+0YDQsNGPINC80LXQvdGP0LXRgiBodG1sXG4gICAgICAgICAgLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiBsaWtlQ2FsbGJhY2sodXBkYXRlZENhcmQubGlrZXMpKVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8v0J7RiNC40LHQutCwIG9uTGlrZSBkZWxldGVMaWtlLy8vLy8vJywgZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwaS5zZXRMaWtlKGN1cnJlbnRDYXJkRGF0YS5faWQpXG4gICAgICAgICAgLy8g0LrQsNC6INGA0LDQtyDQstGL0LfQvtCyINGC0L7QuSDRhNGD0L3QutGG0LjQuCDQuNC3INC60LvQsNGB0YHQsCwg0LrQvtGC0L7RgNCw0Y8g0LzQtdC90Y/QtdGCIGh0bWxcbiAgICAgICAgICAudGhlbigodXBkYXRlZENhcmQpID0+IGxpa2VDYWxsYmFjayh1cGRhdGVkQ2FyZC5saWtlcykpXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCcvLy8vLy/QntGI0LjQsdC60LAgb25MaWtlIHNldExpa2UvLy8vLy8nLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cblxuICAgIG9uRGVsZXRlOiAoY3VycmVudENhcmREYXRhLCByZW1vdmVDYWxsYmFjaykgPT4ge1xuICAgICAgZGVsZXRlQ2FyZFBvcHVwLm9wZW4oKTtcbiAgICAgIGRlbGV0ZUNhcmRQb3B1cC5zZXRDb25maXJtQWN0aW9uKCgpID0+IHtcbiAgICAgICAgYXBpLmRlbGV0ZUNhcmQoY3VycmVudENhcmREYXRhLl9pZClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBkZWxldGVDYXJkUG9wdXAuY2xvc2UoKTtcbiAgICAgICAgICAgIHJlbW92ZUNhbGxiYWNrKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJy8vLy8vL9Ce0YjQuNCx0LrQsCBvbkRlbGV0ZSBkZWxldGVDYXJkLy8vLy8vJywgZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZXRDYXJkRWxlbWVudCgpXG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vINC+0YLRgNC40YHQvtCy0LrQsCDQutCw0YDRgtC+0YfQtdC6INC40Lcg0LzQsNGB0YHQuNCy0LBcbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKHtcbiAgICAvLyBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiAoaXRlbSwgaXNEZWxldGUpID0+IHtcbiAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoaXRlbSwgaXNEZWxldGUpKTtcbiAgICB9LFxuICB9LFxuICBjYXJkc0NvbnRhaW5lclxuKTtcblxuLy8gLy8g0LfQsNCz0YDRg9C30LrQsCDQutCw0YDRgtC+0YfQtdC6INC90LAg0YHRgtGA0LDQvdC40YbRg1xuLy8gY2FyZHNMaXN0LnJlbmRlckl0ZW1zKCk7XG5cbi8vINGE0L7RgNC80LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIHBvcHVwQWRkQ2FyZCwge1xuICAgIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhRm9ybSkgPT4ge1xuICAgICAgLy8gY29uc29sZS5sb2coJ2FkZENhcmRQb3B1cCBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YUZvcm0pJywgZGF0YUZvcm0pO1xuICAgICAgYWRkQ2FyZFBvcHVwLmxvYWRpbmcodHJ1ZSk7XG4gICAgICBhcGkuYWRkQ2FyZChkYXRhRm9ybSlcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZGF0YSAvLyDRhNC+0YDQvNCwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LgnLCBkYXRhKTtcbiAgICAgICAgICBjYXJkc0xpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGRhdGEsIHRydWUpKTtcbiAgICAgICAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcbiAgICAgICAgICBmb3JtQWRkQ2FyZFZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8v0J7RiNC40LHQutCwLy8vLy8vINGE0L7RgNC80LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuC8vLy8vLycsIGVycik7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICBhZGRDYXJkUG9wdXAubG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuLy8g0YHQu9GD0YjQsNGC0LXQu9C4INC00LvRjyDRhNC+0YDQvNGLINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5idXR0b25BZGRDYXJkSXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhZGRDYXJkUG9wdXAub3BlbigpO1xuICBmb3JtQWRkQ2FyZFZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vINGE0L7RgNC80LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsFxuY29uc3QgZWRpdEF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIHBvcHVwRWRpdEF2YXRhciwge1xuICAgIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhRm9ybSkgPT4ge1xuICAgICAgLy8gY29uc29sZS5sb2coJ2VkaXRBdmF0YXJQb3B1cCBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YUZvcm0pJywgZGF0YUZvcm0pO1xuICAgICAgZWRpdEF2YXRhclBvcHVwLmxvYWRpbmcodHJ1ZSk7XG4gICAgICBhcGkuZWRpdEF2YXRhcihkYXRhRm9ybSlcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZGF0YSAvLyDRhNC+0YDQvNCwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LAnLCBkYXRhKTtcbiAgICAgICAgICB1c2VySW5mby5zZXRBdmF0YXIoZGF0YSk7XG4gICAgICAgICAgZWRpdEF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgZm9ybUVkaXRBdmF0YXJWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJy8vLy8vL9Ce0YjQuNCx0LrQsC8vLy8vLyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwLy8vLy8vJywgZXJyKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGVkaXRBdmF0YXJQb3B1cC5sb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG5cbi8vINGB0LvRg9GI0LDRgtC10LvQuCDQtNC70Y8g0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXG5lZGl0QXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuYnV0dG9uQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGVkaXRBdmF0YXJQb3B1cC5vcGVuKCk7XG4gIGZvcm1FZGl0QXZhdGFyVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICB1c2VybmFtZTogcHJvZmlsZU5hbWUsXG4gIGFib3V0OiBwcm9maWxlRGVzY3JpcHRpb24sXG4gIGF2YXRhcjogYXZhdGFyXG59LCBjb25maWdVc2VyKTtcblxuLy8g0YHQvtC30LTQsNC90LjQtSDQv9C+0L/QsNC/0LAg0YEg0YTQvtGA0LzQvtC5INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y8gXG5mdW5jdGlvbiBmaWxsRWRpdFByb2ZpbGVGb3JtKHtcbiAgbmFtZSxcbiAgYWJvdXRcbn0pIHtcbiAgbmFtZUlucHV0LnZhbHVlID0gbmFtZTtcbiAgZGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGFib3V0O1xufVxuXG5jb25zdCBlZGl0UHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIHBvcHVwRWRpdFByb2ZpbGUsIHtcbiAgICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YUZvcm0pID0+IHtcbiAgICAgIGVkaXRQcm9maWxlUG9wdXAubG9hZGluZyh0cnVlKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdlZGl0UHJvZmlsZVBvcHVwIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhRm9ybSknLCBkYXRhRm9ybSk7XG4gICAgICBhcGkuZWRpdFVzZXJJbmZvKGRhdGFGb3JtKVxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdkYXRhIC8vINGE0L7RgNC80LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRjycsIGRhdGEpO1xuICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgICAgICAgIGVkaXRQcm9maWxlUG9wdXAuY2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy/QntGI0LjQsdC60LAvLy8vLy8vLyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPLy8vLy8vLy8vLycsIGVycik7XG4gICAgICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICBlZGl0UHJvZmlsZVBvcHVwLmxvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICB9KTtcblxuXG5lZGl0UHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4vLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDQutC90L7Qv9C60LggRWRpdCDQv9C+0L/QsNC/0LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xuYnV0dG9uRWRpdFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgaW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGZpbGxFZGl0UHJvZmlsZUZvcm0oaW5mbyk7XG4gIGVkaXRQcm9maWxlUG9wdXAub3BlbigpO1xuICBmb3JtRWRpdFByb2ZpbGVWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG59KTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLl91cmwgPSBjb25maWcudXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBjb25maWcuaGVhZGVycztcbiAgfVxuXG4gIF9wYXJzZVJlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCBBcGkgX3BhcnNlUmVzcG9uc2U6ICR7cmVzLnN0YXR1c31gKVxuICB9XG5cblxuICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvLyDQn9C+0LvRg9GH0LXQvdC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4ocmVzID0+IHRoaXMuX3BhcnNlUmVzcG9uc2UocmVzKSk7XG4gIH1cbiAgLy8g0KDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcbiAgZWRpdFVzZXJJbmZvKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXRcbiAgICAgIH0pXG4gICAgfSkudGhlbihyZXMgPT4gdGhpcy5fcGFyc2VSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvLyDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INCw0LLQsNGC0LDRgNCwXG4gIGVkaXRBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXJcbiAgICAgIH0pXG4gICAgfSkudGhlbihyZXMgPT4gdGhpcy5fcGFyc2VSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAvLyDQn9C+0LvRg9GH0LXQvdC40LUg0LrQsNGA0YLQvtGH0LXQulxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbihyZXMgPT4gdGhpcy5fcGFyc2VSZXNwb25zZShyZXMpKTtcbiAgfVxuICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lgg0YfQtdGA0LXQtyDQv9C+0L/QsNC/XG4gIGFkZENhcmQoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGxpbms6IGRhdGEubGlua1xuICAgICAgfSlcbiAgICB9KS50aGVuKHJlcyA9PiB0aGlzLl9wYXJzZVJlc3BvbnNlKHJlcykpO1xuICB9XG5cblxuXG5cbiAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8g0KHRgtCw0LLQuNC8INC70LDQudC6XG4gIHNldExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKHJlcyA9PiB0aGlzLl9wYXJzZVJlc3BvbnNlKHJlcykpO1xuICB9XG5cbiAgLy8g0KPQtNCw0LvRj9C10Lwg0LvQsNC50LpcbiAgZGVsZXRlTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4ocmVzID0+IHRoaXMuX3BhcnNlUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvLyDQo9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60LhcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4ocmVzID0+IHRoaXMuX3BhcnNlUmVzcG9uc2UocmVzKSk7XG4gIH1cblxufSJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsImNvbmZpZ0Zvcm0iLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImNvbmZpZ0NhcmQiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiY2FyZFNlbGVjdG9yIiwiYnV0dG9uTGlrZVNlbGVjdG9yIiwiYnV0dG9uRGVsZXRlU2VsZWN0b3IiLCJpbWFnZVNlbGVjdG9yIiwidGl0bGVTZWxlY3RvciIsImxpa2VDbGFzcyIsImxpa2VDb3VudGVyIiwiY2FyZHNDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwiYnV0dG9uQWRkQ2FyZEl0ZW0iLCJwb3B1cEFkZENhcmQiLCJmb3JtQWRkQ2FyZCIsImJ1dHRvbkVkaXRQcm9maWxlIiwicG9wdXBFZGl0UHJvZmlsZSIsImZvcm1FZGl0UHJvZmlsZSIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwibmFtZUlucHV0IiwiZGVzY3JpcHRpb25JbnB1dCIsInBvcHVwSW1hZ2UiLCJhdmF0YXIiLCJidXR0b25BdmF0YXIiLCJwb3B1cEVkaXRBdmF0YXIiLCJmb3JtRWRpdEF2YXRhciIsInBvcHVwRGVsZXRlQ2FyZCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtIiwiX2NvbmZpZyIsIl9mb3JtIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInJlbW92ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUVycm9yIiwiX3Nob3dFcnJvciIsInNvbWUiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWRCdXR0b24iLCJlbmFibGVCdXR0b24iLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9pc1ZhbGlkIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJDYXJkIiwiZGF0YSIsImlzRGVsZXRlIiwiaGFuZGxlciIsIl9vbkNsaWNrSW1hZ2VIYW5kbGVyIiwib25DbGljayIsIl9vbkxpa2VIYW5kbGVyIiwib25MaWtlIiwiX29uRGVsZXRlSGFuZGxlciIsIm9uRGVsZXRlIiwiX2RhdGEiLCJfaXNEZWxldGUiLCJfY2FyZEVsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJuYW1lIiwiX2ltYWdlIiwibGluayIsImFsdCIsImNsYXNzTmFtZUxpa2VkIiwiaXNMaWtlZCIsImxpa2VzIiwiX2RlbGV0ZUJ0biIsIl9pc093bmVyQ2FyZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJpdGVtIiwiX2lkIiwiY3VycmVudFVzZXIiLCJ1cGRhdGVkTGlrZXMiLCJfaGFuZGxlTGlrZUNhcmQiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIlNlY3Rpb24iLCJjb250YWluZXIiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJwcm9maWxlSWQiLCJvd25lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cCIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9kZXNjcmlwdGlvbiIsIlBvcHVwV2l0aEZvcm0iLCJwb3B1cFNlbGVjdG9yIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9zYXZlQnV0dG9uIiwiX3NhdmVCdXR0b25UZXh0IiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiaXNMb2FkaW5nIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX3BvcHVwU2VsZWN0b3IiLCJfY29uZmlybUFjdGlvbiIsImFjdGlvbiIsIlVzZXJJbmZvIiwiX3VzZXJuYW1lIiwidXNlck5hbWVTZWxlY3RvciIsIl9hYm91dCIsInVzZXJBYm91dFNlbGVjdG9yIiwiX2F2YXRhciIsInVzZXJBdmF0YXJTZWxlY3RvciIsInVzZXJkYXRhIiwiYWJvdXQiLCJ1c2VySWQiLCJhcGkiLCJBcGkiLCJfdXJsIiwidXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9wYXJzZVJlc3BvbnNlIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsImluaXRpYWxDYXJkcyIsInVzZXJEYXRhIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNldEF2YXRhciIsImNhcmRzTGlzdCIsInJlbmRlckl0ZW1zIiwic2xpY2UiLCJyZXZlcnNlIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwibG9nIiwiZm9ybUVkaXRQcm9maWxlVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZvcm1BZGRDYXJkVmFsaWRhdG9yIiwidmlld0ltYWdlUG9wdXAiLCJzZXRFdmVudExpc3RlbmVycyIsImZvcm1FZGl0QXZhdGFyVmFsaWRhdG9yIiwiZGVsZXRlQ2FyZFBvcHVwIiwiY3JlYXRlQ2FyZCIsImNhcmQiLCJvcGVuIiwiY3VycmVudENhcmREYXRhIiwibGlrZUNhbGxiYWNrIiwiZGVsZXRlTGlrZSIsInVwZGF0ZWRDYXJkIiwic2V0TGlrZSIsInJlbW92ZUNhbGxiYWNrIiwic2V0Q29uZmlybUFjdGlvbiIsImRlbGV0ZUNhcmQiLCJnZXRDYXJkRWxlbWVudCIsImFkZEl0ZW0iLCJhZGRDYXJkUG9wdXAiLCJkYXRhRm9ybSIsImxvYWRpbmciLCJhZGRDYXJkIiwicmVzZXRWYWxpZGF0aW9uIiwiZWRpdEF2YXRhclBvcHVwIiwiZWRpdEF2YXRhciIsInVzZXJuYW1lIiwiZWRpdFByb2ZpbGVQb3B1cCIsImVkaXRVc2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=